# Microsoft Entra ID Configuration
TENANT_ID=your-tenant-id-here

# Authentication Mode: "api_key" (testing) or "entra" (production)
AUTH_MODE=entra

# Token Provider Mode: "direct" (default) or "sidecar"
# - direct: Agent performs T1/T2 token exchange directly against Entra ID
# - sidecar: Agent delegates token exchange to Microsoft Entra SDK sidecar
TOKEN_PROVIDER_MODE=direct

# Azure OpenAI Configuration
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# API Key (only used if AUTH_MODE=api_key)
AZURE_OPENAI_API_KEY=

# Blueprint Configuration (for OBO flows in entra mode)
BLUEPRINT_APP_ID=
# Blueprint secret only required for TOKEN_PROVIDER_MODE=direct
# In sidecar mode, the sidecar handles credentials
BLUEPRINT_CLIENT_SECRET=

# Agent Identity (for OBO flows in entra mode)
# In direct mode: required
# In sidecar mode: optional (sidecar can use its default if not set)
AGENT_IDENTITY_APP_ID=

# MCP Server App ID (for OBO tokens to MCP/AI Gateway)
# This is the audience for OBO tokens when calling MCP servers via AI Gateway
# In direct mode: used to construct scope api://{MCP_SERVER_APP_ID}/.default
# In sidecar mode: the scope is pre-configured in sidecar config
MCP_SERVER_APP_ID=

# =============================================================================
# Sidecar Configuration (only used if TOKEN_PROVIDER_MODE=sidecar)
# =============================================================================

# Sidecar URL - where the Microsoft Entra SDK sidecar is running
SIDECAR_URL=http://localhost:5000

# Name of the downstream API in sidecar config for Azure OpenAI
# This should match DownstreamApis__{name}__* in sidecar ConfigMap
SIDECAR_OPENAI_API_NAME=openai

# Name of the downstream API in sidecar config for MCP Server
# This should match DownstreamApis__{name}__* in sidecar ConfigMap
SIDECAR_MCP_API_NAME=mcp
